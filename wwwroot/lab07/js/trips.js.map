{"version":3,"sources":["webpack:///webpack/bootstrap 1e3df92e314d2fb9de27","webpack:///./App.js","webpack:///./Trip.js","webpack:///./LocalStorageDataLayer.js","webpack:///./ViewModel.js","webpack:///./Chart.js"],"names":["vm","Trip","_description","v","_destination","_date","_rating","_id","id","destination","description","date","rating","LocalStorageDataLayer","window","localStorage","length","_trips","push","trip","setItem","toString","JSON","stringify","i","obj","parse","key","value","removeItem","ViewModel","dataLayer","_dataLayer","addEventListener","init","refreshUI","document","getElementById","addTrip","saveTrip","trips","chart","options","data","map","t","labels","canvasId","drawBarChart","getAllTrips","target","innerHTML","template","newTripElement","cloneNode","removeAttribute","querySelector","btnEdit","setAttribute","event","editTrip","srcElement","getAttribute","btnDelete","deleteTrip","appendChild","classList","remove","showForm","tripId","removeTrip","getTripById","preventDefault","add","Chart","canvas","ctx","getContext","canvasHeight","offsetHeight","canvasWidth","offsetWidth","borderSize","chartHeight","chartWidth","numberOfBars","barDistance","width","unity","reduce","p","c","clearRect","x","height","y","fillRect","fillText"],"mappings":"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","file":"trips.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1e3df92e314d2fb9de27\n **/","import {Trip} from \"./Trip\";\r\nimport {LocalStorageDataLayer} from \"./LocalStorageDataLayer\";\r\nimport {ViewModel} from \"./ViewModel\";\r\n\r\nconst vm = new ViewModel(new LocalStorageDataLayer());\n\n\n/** WEBPACK FOOTER **\n ** ./App.js\n **/","export class Trip{\r\n    \r\n    get description() {\r\n        return this._description;\r\n    }\r\n    set description(v) {\r\n        this._description = v;\r\n    }\r\n    \r\n    get destination(){\r\n        return this._destination;\r\n    }\r\n    set destination(v) {\r\n        this._destination = v;\r\n    }\r\n    \r\n    get date() {\r\n        return this._date;\r\n    }\r\n    set date(v) {\r\n        this._date = v;\r\n    }\r\n    \r\n    get rating(){\r\n        return this._rating;\r\n    }\r\n    set rating(v) {\r\n        this._rating = v;\r\n    }\r\n    \r\n    get id() {\r\n        return this._id;\r\n    }\r\n    set id(v) {\r\n        this._id = v;\r\n    }\r\n\r\n    constructor(id=0, destination=\"\", description=\"\", date=\"\", rating=0){\r\n        this.id = id || 0;\r\n        this.destination = destination || \"\";\r\n        this.description = description || \"\";\r\n        this.date = date || \"\";\r\n        this.rating = rating || 6;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./Trip.js\n **/","import {Trip} from \"./Trip\";\r\n\r\nexport class LocalStorageDataLayer{\r\n   constructor(){\r\n       if(window.localStorage){\r\n           if(localStorage.length===0){\r\n               const _trips = [];\r\n                _trips.push(new Trip(1, \"Roma\", \"Ciao Bella! Lasagna! Mamma!\", \"01/01/01\",9));\r\n                _trips.push(new Trip(2, \"Paris\", \"Landjaeger ham beef short ribs jowl salami meatball. Jowl spare ribs pastrami fatback capicola. Pig shankle drumstick tri-tip short ribs. Spare ribs venison leberkas jerky. Fatback frankfurter tri-tip venison. Filet mignon cupim drumstick bresaola, doner tenderloin pork chop.\", \"01/01/01\",8));\r\n                _trips.push(new Trip(3, \"Madrid\", \"Los tres caballeros.\", \"01/01/01\",5));\r\n                _trips.push(new Trip(4, \"Budapest\", \"owl pork loin cow, doner shoulder ribeye capicola beef spare ribs frankfurter chicken porchetta brisket leberkas drumstick. Jerky alcatra cow ham hock. Tenderloin doner tail fatback. Shankle beef rump pork loin filet mignon.\", \"01/01/01\",9));\r\n\r\n                for(const trip of _trips){\r\n                    localStorage.setItem(trip.id.toString(), JSON.stringify(trip));    \r\n                }         \r\n           }\r\n       }       \r\n   }\r\n    \r\n    getAllTrips(){\r\n        const _trips = [];\r\n        for(let i = 0; i<localStorage.length; i++){\r\n            const obj = JSON.parse(localStorage[localStorage.key(i)]);\r\n            _trips.push(new Trip(obj._id, obj._destination,obj._description,obj._date,obj._rating));\r\n        }\r\n        return _trips;\r\n    }\r\n    addTrip(trip){\r\n        if(localStorage.length===0){\r\n            trip.id=1;\r\n        }else{\r\n            trip.id = +localStorage.key(localStorage.length-1) + 1;\r\n        }\r\n        localStorage.setItem(trip.id.toString(), JSON.stringify(trip));\r\n        return trip;\r\n    }\r\n    getTripById(id){\r\n        return JSON.parse(localStorage[id.toString()],(key,value)=>new Trip(value._id, value._destination,value._description,value._date,value._rating));\r\n    }\r\n    \r\n    editTrip(trip){\r\n        localStorage.setItem(trip.id.toString(), JSON.stringify(trip));\r\n        return trip; \r\n    }\r\n    removeTrip(id){\r\n        localStorage.removeItem(id.toString());\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./LocalStorageDataLayer.js\n **/","import {Trip} from \"./Trip\";\r\nimport {Chart} from \"./Chart\";\r\n\r\nexport class ViewModel{\r\n    \r\n    constructor(dataLayer){\r\n        this._dataLayer = dataLayer;\r\n\r\n        window.addEventListener(\"load\",()=>this.init());\r\n    }\r\n\r\n    init(){\r\n        this.refreshUI();\r\n\r\n        document.getElementById(\"add-trip\").addEventListener(\"click\", ()=>this.addTrip());\r\n        document.getElementById(\"save-trip\").addEventListener(\"click\", ()=>this.saveTrip());\r\n    }\r\n\r\n    drawBarChart(trips = []){\r\n        const chart = new Chart();\r\n        const options = {\r\n            data : trips.map(t=>t.rating),\r\n            labels : trips.map(t=>t.destination),\r\n            canvasId : \"chart\"\r\n        };\r\n        chart.drawBarChart(options);\r\n    }\r\n\r\n    refreshUI(){\r\n        const trips = this._dataLayer.getAllTrips();\r\n        const target = document.getElementById(\"trips\");\r\n        target.innerHTML = \"\";\r\n        const template = document.getElementById(\"template\");\r\n        for(const trip of trips){\r\n            const newTripElement = template.cloneNode(true);\r\n            newTripElement.removeAttribute(\"id\");\r\n            newTripElement.querySelector(\".panel-title\").innerHTML = trip.destination;\r\n            newTripElement.querySelector(\".trip-description\").innerHTML = trip.description;\r\n            newTripElement.querySelector(\".trip-date\").innerHTML = trip.date;\r\n            newTripElement.querySelector(\".trip-rating\").innerHTML = trip.rating.toString();\r\n            const btnEdit = newTripElement.querySelector(\".edit-trip\");\r\n            btnEdit.setAttribute(\"data-trip-id\", trip.id.toString());\r\n            btnEdit.addEventListener(\"click\", (event)=>this.editTrip(+event.srcElement.getAttribute(\"data-trip-id\")));\r\n            const btnDelete = newTripElement.querySelector(\".delete-trip\");\r\n            btnDelete.setAttribute(\"data-trip-id\", trip.id.toString());\r\n            btnDelete.addEventListener(\"click\", (event)=>this.deleteTrip(+event.srcElement.getAttribute(\"data-trip-id\")));\r\n            target.appendChild(newTripElement);\r\n        }\r\n        this.drawBarChart(trips);\r\n    }\r\n\r\n    showForm(trip){\r\n        document.getElementById(\"add-trip-container\").classList.remove(\"invisible\");\r\n        document.getElementById(\"save-trip\").setAttribute(\"data-trip-id\", trip.id.toString());\r\n        document.getElementById(\"destination-input\").value = trip.destination;\r\n        document.getElementById(\"description-input\").value = trip.description;\r\n        document.getElementById(\"date-input\").value = trip.date;\r\n        document.getElementById(\"rating-input\").value = trip.rating.toString();\r\n    }\r\n    addTrip(){\r\n        const trip = new Trip();\r\n        this.showForm(trip);\r\n    }\r\n    deleteTrip(tripId){\r\n        this._dataLayer.removeTrip(tripId);\r\n        this.refreshUI();\r\n    }\r\n    editTrip(tripId){\r\n        const trip = this._dataLayer.getTripById(tripId);\r\n        this.showForm(trip);\r\n    }\r\n    saveTrip(){\r\n        event.preventDefault();\r\n        \r\n        const trip = new Trip();\r\n        trip.id = +document.getElementById(\"save-trip\").getAttribute(\"data-trip-id\");\r\n        trip.destination = document.getElementById(\"destination-input\").value;\r\n        trip.description = document.getElementById(\"description-input\").value;\r\n        trip.date = document.getElementById(\"date-input\").value;\r\n        trip.rating = +document.getElementById(\"rating-input\").value;\r\n\r\n        if(trip.id===0){\r\n            this._dataLayer.addTrip(trip);\r\n        }else{\r\n            this._dataLayer.editTrip(trip);\r\n        }\r\n\r\n        document.getElementById(\"add-trip-container\").classList.add(\"invisible\");\r\n\r\n        this.refreshUI();\r\n        return false;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./ViewModel.js\n **/","export class Chart{\r\n    constructor(){}\r\n\r\n    drawBarChart({data=[], labels=[], canvasId=\"\"}={}){\r\n        const canvas = document.getElementById(canvasId);\r\n        if(canvas){\r\n            const ctx = canvas.getContext(\"2d\");\r\n\r\n            const canvasHeight = canvas.offsetHeight;\r\n            const canvasWidth = canvas.offsetWidth;\r\n\r\n            const borderSize = 10;\r\n\r\n            const chartHeight = canvasHeight - (2 * borderSize);\r\n            const chartWidth = canvasWidth - (2 * borderSize);\r\n\r\n            const numberOfBars = data.length;\r\n            const barDistance = 10; \r\n            const width = (canvasWidth / numberOfBars) - barDistance;\r\n            \r\n            const unity = chartHeight / data.reduce((p,c)=>p>c?p:c);\r\n            \r\n            ctx.clearRect(0,0,canvasWidth, canvasHeight);\r\n            for(let i = 0; i< data.length ; i++){\r\n                const x = i * (width + barDistance);\r\n                const height = data[i] * unity;\r\n                const y = chartHeight - borderSize - height;\r\n                ctx.fillRect(x,y,width, height);\r\n                ctx.fillText(labels[i],x,chartHeight);\r\n            }\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./Chart.js\n **/"],"sourceRoot":""}