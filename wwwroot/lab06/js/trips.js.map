{"version":3,"sources":["webpack:///webpack/bootstrap ff2662e975f45f96000a","webpack:///./App.js","webpack:///./Trip.js","webpack:///./ArrayDataLayer.js","webpack:///./ViewModel.js","webpack:///./Chart.js"],"names":["vm","Trip","_description","v","_destination","_date","_rating","_id","id","destination","description","date","rating","ArrayDataLayer","_trips","push","trip","length","reduce","prev","curr","filter","t","original","getTripById","splice","indexOf","ViewModel","dataLayer","_dataLayer","window","addEventListener","init","refreshUI","document","getElementById","addTrip","saveTrip","trips","chart","options","data","map","labels","canvasId","drawBarChart","getAllTrips","target","innerHTML","template","newTripElement","cloneNode","removeAttribute","children","toString","btnEdit","setAttribute","event","editTrip","srcElement","getAttribute","btnDelete","deleteTrip","appendChild","classList","remove","value","showForm","tripId","removeTrip","preventDefault","add","Chart","canvas","ctx","getContext","canvasHeight","offsetHeight","canvasWidth","offsetWidth","borderSize","chartHeight","chartWidth","numberOfBars","barDistance","width","unity","p","c","clearRect","i","x","height","y","fillRect","fillText"],"mappings":"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","file":"trips.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ff2662e975f45f96000a\n **/","import {Trip} from \"./Trip\";\r\nimport {ArrayDataLayer} from \"./ArrayDataLayer\";\r\nimport {ViewModel} from \"./ViewModel\";\r\n\r\nconst vm = new ViewModel(new ArrayDataLayer());\n\n\n/** WEBPACK FOOTER **\n ** ./App.js\n **/","export class Trip{\r\n    \r\n    get description() {\r\n        return this._description;\r\n    }\r\n    set description(v) {\r\n        this._description = v;\r\n    }\r\n    \r\n    get destination(){\r\n        return this._destination;\r\n    }\r\n    set destination(v) {\r\n        this._destination = v;\r\n    }\r\n    \r\n    get date() {\r\n        return this._date;\r\n    }\r\n    set date(v) {\r\n        this._date = v;\r\n    }\r\n    \r\n    get rating(){\r\n        return this._rating;\r\n    }\r\n    set rating(v) {\r\n        this._rating = v;\r\n    }\r\n    \r\n    get id() {\r\n        return this._id;\r\n    }\r\n    set id(v) {\r\n        this._id = v;\r\n    }\r\n\r\n    constructor(id=0, destination=\"\", description=\"\", date=\"\", rating=0){\r\n        this.id = id || 0;\r\n        this.destination = destination || \"\";\r\n        this.description = description || \"\";\r\n        this.date = date || \"\";\r\n        this.rating = rating || 6;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./Trip.js\n **/","import {Trip} from \"./Trip\";\r\n\r\nexport class ArrayDataLayer{\r\n   constructor(){\r\n       this._trips = [];\r\n       this._trips.push(new Trip(1, \"Roma\", \"bla\", \"01/01/01\",9));\r\n       this._trips.push(new Trip(2, \"Paris\", \"Landjaeger ham beef short ribs jowl salami meatball. Jowl spare ribs pastrami fatback capicola. Pig shankle drumstick tri-tip short ribs. Spare ribs venison leberkas jerky. Fatback frankfurter tri-tip venison. Filet mignon cupim drumstick bresaola, doner tenderloin pork chop.\", \"01/01/01\",8));\r\n       this._trips.push(new Trip(3, \"Madrid\", \"blah\", \"01/01/01\",5));\r\n       this._trips.push(new Trip(4, \"Budapest\", \"owl pork loin cow, doner shoulder ribeye capicola beef spare ribs frankfurter chicken porchetta brisket leberkas drumstick. Jerky alcatra cow ham hock. Tenderloin doner tail fatback. Shankle beef rump pork loin filet mignon.\", \"01/01/01\",9));\r\n   }\r\n    \r\n    getAllTrips(){\r\n        return this._trips;\r\n    }\r\n    addTrip(trip){\r\n        if(this._trips.length===0){\r\n            trip.id=1;\r\n        }else{\r\n            trip.id = this._trips.reduce((prev, curr)=>prev.id>curr.id?prev:curr).id + 1;\r\n        }\r\n        this._trips.push(trip);\r\n        return trip;\r\n    }\r\n    getTripById(id){\r\n        return this._trips.filter(t=>t.id===id)[0];\r\n    }\r\n    \r\n    editTrip(trip){\r\n        const original = this.getTripById(trip.id);\r\n        original.description = trip.description;\r\n        original.destination = trip.destination;\r\n        original.date = trip.date;\r\n        original.rating = trip.rating;\r\n        return original; \r\n    }\r\n    removeTrip(id){\r\n        this._trips.splice(this._trips.indexOf(this.getTripById(id)),1);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ArrayDataLayer.js\n **/","import {Trip} from \"./Trip\";\r\nimport {ArrayDataLayer} from \"./ArrayDataLayer\";\r\nimport {Chart} from \"./Chart\";\r\n\r\nexport class ViewModel{\r\n    \r\n    constructor(dataLayer){\r\n        this._dataLayer = dataLayer;\r\n\r\n        window.addEventListener(\"load\",()=>this.init());\r\n    }\r\n\r\n    init(){\r\n\r\n        this.refreshUI();\r\n\r\n        document.getElementById(\"add-trip\").addEventListener(\"click\", ()=>this.addTrip());\r\n        document.getElementById(\"save-trip\").addEventListener(\"click\", ()=>this.saveTrip());\r\n    }\r\n\r\n    drawBarChart(trips = []){\r\n        const chart = new Chart();\r\n        const options = {\r\n            data : trips.map(t=>t.rating),\r\n            labels : trips.map(t=>t.destination),\r\n            canvasId : \"chart\"\r\n        };\r\n        chart.drawBarChart(options);\r\n    }\r\n\r\n    refreshUI(){\r\n        const trips = this._dataLayer.getAllTrips();\r\n        const target = document.getElementById(\"trips\");\r\n        target.innerHTML = \"\";\r\n        const template = document.getElementById(\"template\");\r\n        for(const trip of trips){\r\n            const newTripElement = template.cloneNode(true);\r\n            newTripElement.removeAttribute(\"id\");\r\n            newTripElement.children[0].children[0].innerHTML = trip.destination;\r\n            newTripElement.children[1].children[0].innerHTML = trip.description;\r\n            newTripElement.children[1].children[1].innerHTML = trip.date;\r\n            newTripElement.children[1].children[2].innerHTML = trip.rating.toString();\r\n            const btnEdit = newTripElement.children[2].children[0].children[0];\r\n            btnEdit.setAttribute(\"data-trip-id\", trip.id.toString());\r\n            btnEdit.addEventListener(\"click\", (event)=>this.editTrip(+event.srcElement.getAttribute(\"data-trip-id\")));\r\n            const btnDelete = newTripElement.children[2].children[1].children[0]\r\n            btnDelete.setAttribute(\"data-trip-id\", trip.id.toString());\r\n            btnDelete.addEventListener(\"click\", (event)=>this.deleteTrip(+event.srcElement.getAttribute(\"data-trip-id\")));\r\n            target.appendChild(newTripElement);\r\n        }\r\n        this.drawBarChart(trips);\r\n    }\r\n\r\n    showForm(trip){\r\n        document.getElementById(\"add-trip-container\").classList.remove(\"invisible\");\r\n        document.getElementById(\"save-trip\").setAttribute(\"data-trip-id\", trip.id.toString());\r\n        document.getElementById(\"destination-input\").value = trip.destination;\r\n        document.getElementById(\"description-input\").value = trip.description;\r\n        document.getElementById(\"date-input\").value = trip.date;\r\n        document.getElementById(\"rating-input\").value = trip.rating.toString();\r\n    }\r\n    addTrip(){\r\n        const trip = new Trip();\r\n        this.showForm(trip);\r\n    }\r\n    deleteTrip(tripId){\r\n        this._dataLayer.removeTrip(tripId);\r\n        this.refreshUI();\r\n    }\r\n    editTrip(tripId){\r\n        const trip = this._dataLayer.getTripById(tripId);\r\n        this.showForm(trip);\r\n    }\r\n    saveTrip(){\r\n        event.preventDefault();\r\n        \r\n        const trip = new Trip();\r\n        trip.id = +document.getElementById(\"save-trip\").getAttribute(\"data-trip-id\");\r\n        trip.destination = document.getElementById(\"destination-input\").value;\r\n        trip.description = document.getElementById(\"description-input\").value;\r\n        trip.date = document.getElementById(\"date-input\").value;\r\n        trip.rating = +document.getElementById(\"rating-input\").value;\r\n\r\n        if(trip.id===0){\r\n            this._dataLayer.addTrip(trip);\r\n        }else{\r\n            this._dataLayer.editTrip(trip);\r\n        }\r\n\r\n        document.getElementById(\"add-trip-container\").classList.add(\"invisible\");\r\n\r\n        this.refreshUI();\r\n        return false;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./ViewModel.js\n **/","export class Chart{\r\n    constructor(){}\r\n\r\n    drawBarChart({data=[], labels=[], canvasId=\"\"}={}){\r\n        const canvas = document.getElementById(canvasId);\r\n        if(canvas){\r\n            const ctx = canvas.getContext(\"2d\");\r\n\r\n            const canvasHeight = canvas.offsetHeight;\r\n            const canvasWidth = canvas.offsetWidth;\r\n\r\n            const borderSize = 10;\r\n\r\n            const chartHeight = canvasHeight - (2 * borderSize);\r\n            const chartWidth = canvasWidth - (2 * borderSize);\r\n\r\n            const numberOfBars = data.length;\r\n            const barDistance = 10; \r\n            const width = (canvasWidth / numberOfBars) - barDistance;\r\n            \r\n            const unity = chartHeight / data.reduce((p,c)=>p>c?p:c);\r\n            \r\n            ctx.clearRect(0,0,canvasWidth, canvasHeight);\r\n            for(let i = 0; i< data.length ; i++){\r\n                const x = i * (width + barDistance);\r\n                const height = data[i] * unity;\r\n                const y = chartHeight - borderSize - height;\r\n                ctx.fillRect(x,y,width, height);\r\n                ctx.fillText(labels[i],x,chartHeight);\r\n            }\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./Chart.js\n **/"],"sourceRoot":""}